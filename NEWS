
RELEASE HISTORY OF THE airGR PACKAGE


#### 1.0.5.12 RELEASE NOTES ###########################

- Bug fixed in DataAltiExtrapolation_Valery(). The elevation gradients for air temperature returned by CreateInputsModel() are improved.

- DataAltiExtrapolation_Valery() and CreateInputsModel() now present a PrecipScale argument which allows rescaling precipitation when it is interpolated on the elevation layers when CemaNeige is used.

- DataAltiExtrapolation_Valery() has been improved. DataAltiExtrapolation_Valery() now runs faster (and by consequence CreateInputsModel() too when CemaNeige is used).


#### 1.0.4 RELEASE NOTES ###########################

- RunModel_CemaNeige, RunModel_CemaNeigeGR4J, RunModel_CemaNeigeGR5J() and RunModel_CemaNeigeGR6J() now return air temperature for each elevation layer. 

- S3 plot method defined for OutputsModel objects. It means that the plot_OutputsModel() function is deprecated and his use has been replaced by the use of plot.OutputsModel() or plot().

- In plot.OutputsModel() the PlotChoice argument is deprecated and has been renamed "which".

- plot.OutputsModel() displays air temperature time series for each layer when CemaNeige is used (argument which = "Temp" or "all").


#### 1.0.3 RELEASE NOTES ###########################

- Bug fixed when StartParamList or StartParamDistrib arguments are used in the CreateCalibOptions() function.

- CreateInputsModel() now returns an error if NLayers <= 0 when CemaNeige is used.

- plot_OutputsModel() now displays raw values on the y-axis when the discharge time series is represented with log scale (formerly, log values of discharges were displayed on the y-axis).

- ErrorCrit*() functions gain a warnings argument to replace the verbose action and the verbose argument now prints the criterion value(s).


#### 1.0.2 RELEASE NOTES ###########################

- The RunModel_GR6J() and RunModel_CemaNeigeGR6J() models were modified back to versions previous to 1.0.1 to prevent from unwanted efficiency criteria deterioration related to the calibration with Calibration_Michel(). 
  The actual model codes were not modified but the TransfoParam_GR6J() and CreateCalibOptions() functions were modified regarding the X5 parameter. 
  It is strongly advised to use airGR 1.0.2 for the RunModel_GR6J() and RunModel_CemaNeigeGR6J() functions if you are using Calibration_Michel(), as they are much more efficient. 
  In case you were using your own calibration algorithm, you will not notice any difference. 

- The value "sort" for the transfo argument of CreateInputsCrit() was not taken into account. It is now fixed. 

- SeriesAggreg() gains a TimeLag argument that corresponds to a numeric value indicating a time lag (in seconds) for the time series aggregation (useful to aggregate hourly time series to the daily time step for instance).
  In addition, the function now accepts input dates in both POSIX formats (POSIXct and POSIXlt). The output is in POSIXct format.
  
- CreateInputsModel() and DataAltiExtrapolation_Valery() functions now allow both POSIX formats (POSIXct and POSIXlt).
  
- plot_OutputsModel() gains a log_scale argument in order to plot the flow with a log scale.

- CreateCalibOptions() loses the OptimParam argument that was redundant with the FixedParam argument. Calibration_Michel() was modified to take into account this change by using directly FixedParam, but this is transparent to the user. 

- CreateCalibOptions() loses the StartParam argument that was not used. 

- A tutorial is available online on the following link: from http://webgr.irstea.fr/airGR.
  It can also be displayed with the vignette("airGR") command


#### 1.0.1 RELEASE NOTES ###########################

- The GR5J model has been modified: previously, two unit hydrographs were used, now only one is remaining.
  As a consequence, simulations from the GR5J (RunModel_GR5J() function) and CemaNeige (RunModel_CemaNeigeGR5J() function) models will be different

- An important proportion of the transformations of the parameters have been modified (TransfoParam*() functions). Since this modifies the local search, calibration results will be different 

- The quantiles of the parameters have been recalculated with the new transformations (CreateCalibOptions() function). Since these quantiles constitute the starting point of the calibration algorithm, calibration results will be different

- The Calibration_HBAN() and DataAltiExtrapolation_HBAN() functions have respectively been renamed as Calibration_Michel() and DataAltiExtrapolation_Valery() after the names of their creators

- The Calibration_optim() function has been removed from the package

- The silent mode is now defined by the "verbose = TRUE" argument (formerly quiet = "FALSE") in the following functions :
  Calibration(), Calibration_Michel(), CreateInputsModel(), CreateRunOptions(), DataAltiExtrapolation_Valery(),
  ErrorCrit(), ErrorCrit_KGE(), ErrorCrit_KGE2(), ErrorCrit_NSE(), ErrorCrit_RMSE(), plot_OutputsModel(), SeriesAggreg(), 

- The FORTRAN model core codes have been modified:
	- optimisation of the codes for fastening of computation 
	- simplification of the internal variables for easier reading and understanding
	
- The list of the contributors and authors is now full

- The references of the package has been updated ; they are returned by the following R-command > citation("airGR")


#### 0.8.1 RELEASE NOTES ###########################

- 0.8.1.2 vs 0.8.1.1 : Modification of namespace file to ensure proper use under linux whithout compilation issues

- 0.8.1.1 vs 0.8.1.0 : Correction of a bug in CreateInputsModel related to the handling of missing values

- Correction of a bug preventing the correct use of the IniResLevels argument (to manually set the filling rate of the production and routing stores)

- Removal of an unnecessary warning when IndPeriod_WarmUp=0

#### 0.8.0 RELEASE NOTES ###########################

- 0.8.0.1 vs 0.8.0.0 : Correction of formatting issue in airGR-advanced-example regarding the "List_HypsoData.txt" file

- Three new hydrological models : GR4H (hourly), GR2M (monthly) and GR1A (yearly)

- New function SeriesAggreg() to easily aggreg timesteps

- Update of the functions CreateRunOptions, CreateCalibOptions() and plot_OutputsModel() to handle the new models

- Improvement of the plot_OutputsModel() function to allow a selection among available plots

- Modification of CemaNeige Fortran code to add an update of Gratio after the SnowPack update (no impact on snow simulation)

- Update of the scripts in airGR-advanced-example to match the structures of the BasinData objects 

- Bug correction in ErrorCrit_RMSE() which led to incorrect calibration (the criterion was maximised instead of minimised)

- Minor update in ErrorCrit_KGE() and ErrorCrit_KGE2() to handle case when only one values in not NA


#### 0.7.4 RELEASE NOTES ###########################

- Stable version stemming from version 0.7.3


#### 0.7.3 RELEASE NOTES ###########################

- Series of minor improvements allowing the arrival of new models

- Minor improvements of the argument verifications in CreateInputsModel(), CreateRunOptions(), CreateInputsCrit(), CreateCalibOptions()

- Minor improvements of all the ErrorCrit functions to better account for the cases with constant flow values or local zeros


#### 0.7.2 RELEASE NOTES ###########################

- CemaNeige users must now specify one MeanAnSolidPrecip for each elevation layer.
  The CreateRunOptions function is impacted

- CemaNeige users can now specify the mean elevation of the input series 
  (before it was always considered equal to the catchment median elevation) 
  The impacted functions are CreateInputsModel() and DataAltiExtrapolation_HBAN()

- Bug correction in CreateCalibOptions to handle models with only one parameter

- New argument in many functions (quiet = TRUE or FALSE) to choose if the warnings should be suppressed or not

- Improvement of the plot_OutputsModel function (to handle 0 in Qobs and Qsim)

- Improved documentation


#### 0.7.1 RELEASE NOTES ###########################

- New architecture with better format verification procedure (using classes) and simpler setting of default configuration

- New architecture where the model, calibration and error functions are in the arguments of the functions
  (the exotic use of "generic function" created by the users has been removed)

- Better help pages and examples

- The CalibrationAlgo_XXX() functions were renamed into Calibration_XXX

- Bug correction: the Calibration_HBAN() function was not working properly with models having only one parameter


#### 0.7.0 RELEASE NOTES ###########################

- unfinished version used for development  purpose


#### 0.6.1 RELEASE NOTES ###########################

- RC11 bug correction: the automatic selection of the warm-up period was not working properly when no data was available from warm-up (i.e. when the user had set the run to start at the very first index)

- RC10 bug correction: the CalibrationAlgo_HBAN function was not working in the very rare case when the diagonal search was activated and lead to a set outside the authorised range

- RC9 bug correction: the CalibrationAlgo_HBAN function was not working properly with models having only one parameter

- RC8 bug correction of the "ModelDefaultIniOptions" function (this bug was introduced in the RC7 and caused an error when IndPeriod_WarmUp was defined as NULL)

- RC7 bug correction of the "ModelDefaultIniOptions" function (the automatic selection of one year for warm-up was not handling properly missing data)

- RC6 correction of the help files (the description of CemaNeige parameters were inverted)

- RC5 differs from previous releases in the way the data are read and stored (in a list instead of individual vectors).
  The package is similar, only the examples of Main and the files in MyScriptBlocks have changed.
  => All basin data are now stored inside a list named "BasinData". This will greatly ease the future use of Rdata files (instead of txt files)
  as storage format for the time series of observation.  

  
#### 0.6.1 RELEASE NOTES ###########################

- Code improvements to reduce the computation time 

- Additional functions for results plotting (the "zoo" package is required for some of them)

- Multi-objective calibration using "nsga2" (the "mco" package is required)

- The definition of the generic function is now made in a much simpler way (e.g. see DefineFunctions_Model.R or DefineFunctions_ErrorCrit.R)

- Improvements of the documentation

- Clearer instructions for the adding and modification of a model


#### 0.6.0 RELEASE NOTES ###########################

- EfficiencyCrit() have been replaced by ErrorCrit() to avoid misunderstanding (by default, the algorithms minimise the error criterion)

- The field Multiplier has been added in the ErrorCrit() outputs, to indicate whether the criterion is an error (to minimise) or and efficiency (to maximise)
  this permits to provide real efficiency values in the outputs e.g. NSE[Q] instead of (-1)*NSE[Q] 

  
#### 0.5.2 RELEASE NOTES ###########################

- Correction of the above mentioned bugs

- R 2.15 in not supported by default

- Check of the model functioning time step

- Name of the calibration criterion provided in OutputsAlgo()

- Missing values in Fortran are now -999.999 instead of -9.999

- The check that SelectPer_Run() is continuous is now made in the CheckArg() functions

- The SelectPer arguments are replaced by IndPeriod to ease understanding

- The PE arguments are replaced by PotEvap() to ease understanding

- The Fsol arguments are replaced by FracSolidPrecip to ease understanding


#### 0.5.1 BUGS ###########################

- The function EfficiencyCrit_NSE_sqrtQ() was missing in the first release of airGR 0.5.1 

- Incorrect arguments in the call to RunModelAndCrit from CalibrationAlgo_optim_stats and CalibrationAlgo_nlminb_stats

- CalibrationAlgo_nlminb_stats() wrongly defined in DefineFunctions_CalibrationAlgo() ("optim" instead of "nlminb")

- Format checking for RunOptions incorrectly made in CheckArg function

